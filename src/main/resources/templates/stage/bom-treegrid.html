<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head th:include="include/ofBom">
<meta charset="UTF-8">
<title>BOM视图</title>
</head>
<link th:href="@{/css/treegrid/bootstap-theme.css}" rel="stylesheet" />
<link href="@{/css/bootstrap-table.css}" rel="stylesheet">
<link href="@{/css/treegrid/jquery.treegrid.min.css}" rel="stylesheet">
<script th:src="@{/js/bootstrap/table/bootstrap-table.js}"></script>
<script th:src="@{/js/bootstrap/table/bootstrap-table-zh-CN.js}"></script>
<script th:src="@{/js/bootstrap/treegrid/bootstrap-table-treegrid.js}"></script>
<script th:src="@{/js/bootstrap/treegrid/jquery.treegrid.min.js}"></script>
<body class="content-body">
	<div class="panel-body">
		<div class="col-lg-2">
			<span class="infoToUser">请输入需要查询的bom数模行ID</span>
			<div class="input-group">
				<input id="text1" class="form-control" type="text" name="doSubmit1"
					placeholder="请输入需要查找的bom"
					value="d050cb5e-2f54-4782-92dc-6cf750e0b066"> <span
					class="input-group-btn">
					<button class="btn btn-default" id="doSubmit1" type="button">查询</button>
				</span>
			</div>
		</div>
		<div class="content col-lg-12" id="content">
			<table id="table"></table>
		</div>
	</div>
	<div class="modal fade" id="myModal" tabindex="-1" role="dialog"
		aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal"
						aria-hidden="true">×</button>
					<h4 class="modal-title" id="myModalLabel">操作错误</h4>
				</div>
				<div class="modal-body">请输入正确的数模层ID</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">关闭
					</button>
				</div>
			</div>
		</div>
	</div>

	<script th:src="@{/js/stage/bom-stage.js}"></script>
</body>
<script>
	$(function() {
		var $table = $("#table");
		$table
				.bootstrapTable({
					url : 'bootstrap_treegrid.json',
					striped : true,
					sidePagenation : 'server',
					idField : 'id',
					columns : [ {
						field : 'ck',
						checkbox : true
					}, {
						field : 'name',
						title : '名称'
					}, {
						field : 'referred',
						title : '简称'
					} ],
					treeShowField : 'name',
					parentIdField : 'pid',
					onLoadSuccess : function(data) {
						$table
								.treegrid({
									initialState : 'collapsed',//收缩
									treeColumn : 1,//指明第几列数据改为树形
									expanderExpandedClass : 'glyphicon glyphicon-triangle-bottom',
									expanderCollapsedClass : 'glyphicon glyphicon-triangle-right',
									onChange : function() {
										$table.bootstrapTable('resetWidth');
									}
								});
					}
				});
	})
</script>
</html>